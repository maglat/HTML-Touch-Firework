<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Feuerwerk per Klick</title>
  <style>
    html, body {margin:0;padding:0;height:100%;overflow:hidden;background:#111;}
    canvas {display:block;width:100%;height:100%;}
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <script>
    const canvas=document.getElementById('c');
    const ctx=canvas.getContext('2d');
    resizeCanvas();
    window.addEventListener('resize',resizeCanvas);
    function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
    class Particle{constructor(x,y,hue){this.x=x;this.y=y;this.hue=hue;this.angle=Math.random()*Math.PI*2;this.speed=Math.random()*3+2;this.gravity=0.05;this.friction=0.98;this.alpha=1;this.decay=Math.random()*0.015+0.015;this.radius=Math.random()*3+2;this.vx=Math.cos(this.angle)*this.speed;this.vy=Math.sin(this.angle)*this.speed;}update(){this.vx*=this.friction;this.vy*=this.friction;this.vy+=this.gravity;this.x+=this.vx;this.y+=this.vy;this.alpha-=this.decay;}draw(){ctx.beginPath();ctx.arc(this.x,this.y,this.radius,0,Math.PI*2);ctx.fillStyle=`hsla(${this.hue},100%,60%,${this.alpha})`;ctx.fill();}}
    class Firework{constructor(x,y){this.particles=[];const hue=Math.floor(Math.random()*360);const count=30+Math.random()*30;for(let i=0;i<count;i++){this.particles.push(new Particle(x,y,hue));}}updateAndDraw(){this.particles.forEach(p=>{p.update();p.draw();});this.particles=this.particles.filter(p=>p.alpha>0);}isDead(){return this.particles.length===0;}}
    const fireworks=[];
    function loop(){ctx.fillStyle='rgba(0,0,0,0.15)';ctx.fillRect(0,0,canvas.width,canvas.height);fireworks.forEach(f=>f.updateAndDraw());for(let i=fireworks.length-1;i>=0;i--){if(fireworks[i].isDead())fireworks.splice(i,1);}requestAnimationFrame(loop);}loop();
    function createFirework(e){const rect=canvas.getBoundingClientRect();const x=(e.clientX||e.touches[0].clientX)-rect.left;const y=(e.clientY||e.touches[0].clientY)-rect.top;fireworks.push(new Firework(x,y));}
    canvas.addEventListener('click',createFirework);
    canvas.addEventListener('touchstart',createFirework);
  </script>
</body>
</html>
